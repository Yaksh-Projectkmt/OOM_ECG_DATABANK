{% extends 'ecgdatabank/base.html' %}
{% load static %}
{% block title %}Analysis Tool{% endblock %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
{% block extra_css %}
<link rel="stylesheet" href="{% static 'CSS/ecg_index.css' %}">
{% endblock %}

{% block content %}
    <div class="content-area">
        <div class="content-header">
            <h3 class="content-title">ECG Arrhythmias & MI</h3>
            <p class="content-description">
                Select a condition to view detailed information and manage patient records
            </p>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="action-btn primary"
                    data-bs-toggle="modal"
                    data-bs-target="#insertModal"
                    id="openInsertModalBtn">
                    <div class="btn-shimmer"></div>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    <span>Add Arrhythmia</span>
                </button>

                <button class="action-btn secondary"
                    data-bs-toggle="modal"
                    data-bs-target="#unifiedSearchModal"
                    id="openUnifiedSearchBtn">
                    <div class="btn-shimmer"></div>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <span>Search Arrhythmia</span>
                </button>

                <button class="action-btn tertiary"
                    data-bs-toggle="modal"
                    data-bs-target="#insertDataModal"
                    id="insertData">
                    <div class="btn-shimmer"></div>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="17 1 21 5 17 9"></polyline>
                        <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                        <polyline points="7 23 3 19 7 15"></polyline>
                        <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                    </svg>
                    <span>Transfer Data</span>
                </button>
            </div>
        </div>
        <div class="cards-grid">
            <div class="condition-card" data-arrhythmia="Premature Ventricular Contraction" style="animation-delay: 0ms;">
                <div class="card-gradient"></div>
                    <div class="ecg-pattern">
                        <svg viewBox="0 0 100 40" preserveAspectRatio="none">
                            <polyline class="ecg-line" points="0,20 15,20 18,8 21,32 24,12 27,20 35,20 38,15 41,25 44,18 47,20 100,20"></polyline>
                        </svg>
                    </div>

                    <div class="card-glow"></div>
                <div class="card-content">
                <div class="card-header" >
                    <h3 class="card-title">Premature Ventricular Contraction</h3>
                    <svg class="card-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                </div>
                
                </div>
                <div class="card-corner-glow"></div>
                <div class="card-indicator">
                    <div class="subtitle-popup">Isolated, Bigeminy, Trigeminy, Quadrigeminy, Couplet, Triplet, IVR, AIVR, NSVT, VT</div>
                </div>
            </div>
            
            <div class="condition-card" data-arrhythmia="Premature Atrial Contraction" style="animation-delay: 100ms;">
                <div class="card-gradient"></div>
                <div class="ecg-pattern">
                    <svg viewBox="0 0 100 40" preserveAspectRatio="none">
                        <polyline class="ecg-line" points="0,20 15,20 18,8 21,32 24,12 27,20 35,20 38,15 41,25 44,18 47,20 100,20"></polyline>
                    </svg>
                </div>
                <div class="card-glow"></div>
                <div class="card-content">
                    <div class="card-header">
                        <h3 class="card-title">Premature Atrial Contraction</h3>
                        <svg class="card-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                    </div>
                
                </div>
                <div class="card-corner-glow"></div>
                <div class="card-indicator">
                    <div class="subtitle-popup">Isolated, Bigeminy, Trigeminy, Quadrigeminy, Couplet, Triplet, SVT</div>
                </div>
            </div>

            <div class="condition-card" data-arrhythmia="Atrial Fibrillation & Atrial Flutter" style="animation-delay: 100ms;">
                <div class="card-gradient"></div>
                <div class="ecg-pattern">
                    <svg viewBox="0 0 100 40" preserveAspectRatio="none">
                        <polyline class="ecg-line" points="0,20 15,20 18,8 21,32 24,12 27,20 35,20 38,15 41,25 44,18 47,20 100,20"></polyline>
                    </svg>
                </div>
                <div class="card-glow"></div>
                <div class="card-content">
                    <div class="card-header" >
                        <h3 class="card-title">Atrial Fibrillation & Atrial Flutter</h3>
                        <svg class="card-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                    </div>
                </div>
                <div class="card-corner-glow"></div>
                <div class="card-indicator">
                </div>
            </div>

            <div class="condition-card" data-arrhythmia="HeartBlock" style="animation-delay: 100ms;">
                <div class="card-gradient"></div>
                <div class="ecg-pattern">
                    <svg viewBox="0 0 100 40" preserveAspectRatio="none">
                        <polyline class="ecg-line" points="0,20 15,20 18,8 21,32 24,12 27,20 35,20 38,15 41,25 44,18 47,20 100,20"></polyline>
                    </svg>
                </div>
                <div class="card-glow"></div>
                <div class="card-content">
                    <div class="card-header">
                        <h3 class="card-title">HeartBlock</h3>
                        <svg class="card-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                    </div>
                </div>
                <div class="card-corner-glow"></div>
                <div class="card-indicator">
                    <div class="subtitle-popup">I Degree, Mobitz I, Mobitz II, III Degree</div>
                </div>
            </div>

            <div class="condition-card" data-arrhythmia="Junctional Rhythm" style="animation-delay: 100ms;">
                <div class="card-gradient"></div>
                <div class="ecg-pattern">
                    <svg viewBox="0 0 100 40" preserveAspectRatio="none">
                        <polyline class="ecg-line" points="0,20 15,20 18,8 21,32 24,12 27,20 35,20 38,15 41,25 44,18 47,20 100,20"></polyline>
                    </svg>
                </div>
                <div class="card-glow"></div>
                <div class="card-content">
                    <div class="card-header">
                        <h3 class="card-title">Junctional Rhythm</h3>
                        <svg class="card-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                    </div>
                </div>
                <div class="card-corner-glow"></div>
                <div class="card-indicator">
                    <div class="subtitle-popup">Junctional Bradycardia, Junctional Rhythm</div>
                </div>
            </div>

            <div class="condition-card" data-arrhythmia="Ventricular Fibrillation and Asystole" style="animation-delay: 100ms;">
                <div class="card-gradient"></div>
                <div class="ecg-pattern">
                    <svg viewBox="0 0 100 40" preserveAspectRatio="none">
                        <polyline class="ecg-line" points="0,20 15,20 18,8 21,32 24,12 27,20 35,20 38,15 41,25 44,18 47,20 100,20"></polyline>
                    </svg>
                </div>
                <div class="card-glow"></div>
                <div class="card-content">
                    <div class="card-header">
                        <h3 class="card-title">Ventricular Fibrillation and Asystole</h3>
                        <svg class="card-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                    </div>
                </div>
                <div class="card-corner-glow"></div>
                <div class="card-indicator"></div>
            </div>

            <div class="condition-card" data-arrhythmia="Myocardial Infarction" style="animation-delay: 100ms;">
                <div class="card-gradient"></div>
                <div class="ecg-pattern">
                    <svg viewBox="0 0 100 40" preserveAspectRatio="none">
                        <polyline class="ecg-line" points="0,20 15,20 18,8 21,32 24,12 27,20 35,20 38,15 41,25 44,18 47,20 100,20"></polyline>
                    </svg>
                </div>
                <div class="card-glow"></div>
                <div class="card-content">
                    <div class="card-header">
                        <h3 class="card-title">Myocardial Infarction</h3>
                        <svg class="card-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                    </div>
                </div>
                <div class="card-corner-glow"></div>
                <div class="card-indicator">
                     <!-- Tooltip popup -->
                <div class="subtitle-popup">T wave abnormality, Inferior, Lateral</div>
                </div>
            </div>

            <div class="condition-card" data-arrhythmia="Artifacts" style="animation-delay: 100ms;">
                <div class="card-gradient"></div>
                <div class="ecg-pattern">
                    <svg viewBox="0 0 100 40" preserveAspectRatio="none">
                        <polyline class="ecg-line" points="0,20 15,20 18,8 21,32 24,12 27,20 35,20 38,15 41,25 44,18 47,20 100,20"></polyline>
                    </svg>
                </div>
                <div class="card-glow"></div>
                <div class="card-content">
                    <div class="card-header">
                        <h3 class="card-title">Artifacts</h3>
                        <svg class="card-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                    </div>
                </div>
                <div class="card-corner-glow"></div>
                <div class="card-indicator"></div>
            </div>

            <div class="condition-card" data-arrhythmia="LBBB" style="animation-delay: 100ms;">
                
                <div class="card-gradient"></div>
                <div class="ecg-pattern">
                    <svg viewBox="0 0 100 40" preserveAspectRatio="none">
                        <polyline class="ecg-line" 
                            points="0,20 15,20 18,8 21,32 24,12 27,20 35,20 38,15 41,25 44,18 47,20 100,20">
                        </polyline>
                    </svg>
                </div>
                <div class="card-glow"></div>

                <div class="card-content">
                    <div class="card-header">
                        <div class="card-title">LBBB & RBBB</div>
                        <svg class="card-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" 
                            stroke="currentColor" stroke-width="2">
                            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                        </svg>
                    </div>
                </div>

                <div class="card-corner-glow"></div>
                <div class="card-indicator"></div>
            </div>

        </div>
    </div>

    <!-- Insert Data Modal (keeping original) -->
    <div class="modal fade" id="insertModal" tabindex="-1" aria-labelledby="insertModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="insertModalLabel">
                        <i class="fas fa-plus me-2"></i>Insert Data
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="insertForm" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label class="form-label">
                                <i class="fas fa-file-csv me-2"></i>Upload CSV
                            </label>
                            <input type="file" class="form-control" name="csv_file" id="csv_file" accept=".csv" required>
                        </div>
                        <div class="mb-3">
                            <label for="patientId" class="form-label">
                                <i class="fas fa-id-card me-2"></i>Patient ID
                            </label>
                            <input type="text" class="form-control" id="newpatientId" name="patientId" placeholder="Enter patient ID" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">
                                <i class="fas fa-heartbeat me-2"></i>Lead Type
                            </label>
                            <select class="form-control" name="lead" id="leadTypeMI">
                                <option value="">Select Lead Type</option>
                                <option value="2">2 Lead</option>
                                <option value="7">7 Lead</option>
                                <option value="12">12 Lead</option>
                            </select>
                        </div>
                        <div id="arrhythmiaContainer">
                        <!-- First Arrhythmia Group -->
                        <div class="row arrhythmia-group mb-2">
                            <!-- Arrhythmia -->
                            <div class="col-md-5">
                                <label class="form-label">Arrhythmia</label>
                                <select name="arrhythmia[]" class="form-control arrhythmia-select" required>
                                    <option value="">Select Arrhythmia</option>
                                    {% for arrhythmia, subArrhythmiaList in arrhythmias_dict.items %}
                                        <option value="{{ arrhythmia }}">{{ arrhythmia }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <!-- Sub-Arrhythmia -->
                            <div class="col-md-5">
                                <label class="form-label">Sub-Arrhythmia</label>
                                <select name="subArrhythmia[]" class="form-control sub-arrhythmia-select" required>
                                    <option value="">Select Sub-Arrhythmia</option>
                                    {% for arrhythmia, subArrhythmiaList in arrhythmias_dict.items %}
                                        {% for subArrhythmia in subArrhythmiaList %}
                                            <option value="{{ subArrhythmia }}" data-arrhythmia="{{ arrhythmia }}" style="display:none;">
                                                {{ subArrhythmia }}
                                            </option>
                                        {% endfor %}
                                    {% endfor %}
                                </select>
                            </div>
                            <!-- Buttons -->
                            <div class="col-md-2 d-flex align-items-end">
                                <button type="button" class="btn btn-outline-primary btn-sm add-btn" onclick="addArrhythmiaGroup()">+</button>
                            </div>
                          </div>
                </div>
                        <div class="mb-3">
                            <label class="form-label">
                                <i class="fas fa-wave-square me-2"></i>Frequency
                            </label>
                            <input type="text" class="form-control" id="newfrequency" name="newfrequency" placeholder="Enter frequency" required>
                        </div>
                        <div class="text-end">
                            <button type="button" class="btn btn-outline-info me-2" onclick="previewECG()">
                                    <i class="fas fa-eye me-2"></i>Preview
                            </button>
                            <button type="button" class="btn btn-primary" onclick="submitForm()">
                                <i class="fas fa-save me-2"></i>Save
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
<!-- Preview Lead Modal -->
    <div class="modal fade" id="previewLeadModal" tabindex="-1" aria-labelledby="previewLeadModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="previewLeadModalLabel">ECG Preview</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="background-color:var(--background);">
                    <div id="preview-lead-container" style="max-height: 500px; overflow-y: auto; padding: 10px;"></div>
                </div>
            </div>
        </div>
</div>
    <!-- Ensure page-loader exists -->
    <div id="page-loader" style="display: none;">Loading...</div>


    <!-- Get Data Modal -->
    <div class="modal fade" id="unifiedSearchModal" tabindex="-1" aria-labelledby="unifiedSearchModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="unifiedSearchModalLabel">
                        <i class="fas fa-search me-2"></i>Search ECG Data
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Tab Navigation -->
                    <ul class="nav nav-tabs search-tabs" id="searchTabs" role="tablist">
                        <li class="nav-item1" role="presentation">
                            <button class="nav-link active" id="single-search-tab" data-bs-toggle="tab" data-bs-target="#getDataModal" type="button" role="tab">
                                <i class="fas fa-user me-2"></i>Single Search
                            </button>
                        </li>
                        <li class="nav-item1" role="presentation">
                            <button class="nav-link" id="multiple-search-tab" data-bs-toggle="tab" data-bs-target="#getPageModal" type="button" role="tab">
                                <i class="fas fa-users me-2"></i>Multiple Search
                            </button>
                        </li>
                        <li class="nav-item1" role="presentation">
                            <button class="nav-link" id="patient-search-tab" data-bs-toggle="tab" data-bs-target="#patientSearchTab" type="button" role="tab">
                                <i class="fas fa-id-card me-2"></i>Raw Data Search
                                <span class="beta-badge">Beta</span>
                            </button>
                        </li>
                    </ul>

                    <!-- Tab Content -->
                    <div class="tab-content mt-4" id="searchTabsContent">
                        <!-- Single Search Tab -->
                        <div class="tab-pane fade show active" id="getDataModal" role="tabpanel" aria-labelledby="getDataModalLabel" aria-hidden="true">
                            <form id="fetchEcgForm" method="POST" action="{% url 'fetch_ecg_data' %}">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="patientId" class="form-label">
                                            <i class="fas fa-id-card me-2"></i>Patient ID
                                        </label>
                                        <input type="text" class="form-control" id="patientId" name="patientId" placeholder="Enter patient ID">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">
                                            <i class="fas fa-heartbeat me-2"></i>Lead Type
                                        </label>
                                        <select class="form-control" id="leadType" name="leadType">
                                            <option value="">Select Lead Type</option>
                                            <option value="2">2 Lead</option>
                                            <option value="7">7 Lead</option>
                                            <option value="12">12 Lead</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="arrhythmiaMI" class="form-label">
                                            <i class="fas fa-activity me-2"></i>Arrhythmia
                                        </label>
                                        <select id="arrhythmiaMI" name="arrhythmia" class="form-control">
                                            <option value="">Select an Arrhythmia</option>
                                            {% for arrhythmia, sub_arrhythmias in arrhythmias_dict.items %}
                                <option value="{{ arrhythmia }}">{{ arrhythmia }}</option>
                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">
                                            <i class="fas fa-wave-square me-2"></i>Frequency (Hz)
                                        </label>
                                        <input type="text" class="form-control" id="frequency" name="frequency" placeholder="Enter frequency">
                                    </div>
                                </div>
                                <div class="text-end mt-4">
                                    <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">
                                        <i class="fas fa-times me-2"></i>Cancel
                                    </button>
                                    <button type="button" class="btn btn-primary" id="searchButton">
                                        <i class="fas fa-search me-2"></i>Search
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Multiple Search Tab -->
                        <div class="tab-pane fade" id="getPageModal" role="tabpanel" aria-labelledby="getPageModalLabel" aria-hidden="true">
                            <form id="getPageForm" method="POST" action="{% url 'get_multiple_segments' %}">
                                {% csrf_token %}
                                <div class="mb-4">
                                    <label class="form-label">
                                        <i class="fas fa-list me-2"></i>Search Criteria
                                    </label>
                                    <div id="arrhythmiaDurationContainer">
                                        <div class="row arrhythmia-group mb-3 search-item">
                                            <div class="col-md-6">
                                                <label class="form-label">Arrhythmia</label>
                                                <select name="arrhythmia[]" class="form-control" required>
                                                    <option value="">Select an Arrhythmia</option>
                                                    {% for arrhythmia, _ in arrhythmias_dict.items %}
                                                    <option value="{{ arrhythmia }}">{{ arrhythmia }}</option>
                                                    {% endfor %}
                                                </select> 
                                            </div>
                                            
                                            <div class="col-md-4">
                                                <label class="form-label">Duration(Seconds)</label>
                                                <input type="number" class="form-control" name="duration[]" min="1" max="2000" placeholder="Seconds" required>
                                            </div>
                                            <div class="col-md-2 d-flex align-items-end">
                                                <button type="button" class="btn btn-outline-primary btn-sm add-btn" onclick="addArrhythmiaDurationGroup()">+</button>
                                            </div>   
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">
                                            <i class="fas fa-heartbeat me-2"></i>Lead Type
                                        </label>
                                        <select class="form-control" id="leadTypeSimple" name="leadTypess" required>
                                            <option value="">Select Lead Type</option>
                                            <option value="2">2 Lead</option>
                                            <option value="7">7 Lead</option>
                                            <option value="12">12 Lead</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">
                                            <i class="fas fa-wave-square me-2"></i>Frequency (Hz)
                                        </label>
                                        <input type="text" class="form-control" id="frequencySimple" name="frequencyss" placeholder="Enter frequency" min="1" required>
                                    </div>
                                </div>

                                <div class="text-end mt-4">
                                <button class="btn btn-primary" type="submit">
                                        <i class="fas fa-search me-2"></i>Search
                                    </button>
                                    <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">
                                        <i class="fas fa-times me-2"></i>Cancel
                                    </button>
                                
                            </div>
                            </form>
                            
                        </div>
                        <div class="tab-pane fade" id="patientSearchTab" role="tabpanel" aria-labelledby="patient-search-tab">
                            <form id="Search" method="GET">
                            {% csrf_token %}
                            <div class="mb-3">
                                <label for="newpatientId" class="form-label">
                                <i class="fas fa-id-card me-2"></i>Patient ID
                                </label>
                                <input type="text" class="form-control" id="newpatientId1" name="patientId" placeholder="Enter patient ID" required>
                            </div>
                            <div class="text-end mt-4">
                                <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">
                                <i class="fas fa-times me-2"></i>Cancel
                                </button>
                                <button class="btn btn-primary" type="button" onclick="patientSearch()">
                                <i class="fas fa-search me-2"></i>Search
                                </button>
                            </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Transfer Data Modal (keeping original) -->
    <div class="modal fade" id="insertDataModal" tabindex="-1" aria-labelledby="insertModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="insertModalLabel">
                        <i class="fa-solid fa-right-left me-2"></i>Patient DB Transfer
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="dbinsertForm">
                        <div class="mb-3">
                            <label for="newpatientId" class="form-label">
                                <i class="fas fa-id-card me-2"></i>Patient ID
                            </label>
                            <input type="text" class="form-control" id="newpatientId" name="patientId" placeholder="Enter patient ID" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">
                                <i class="fas fa-database me-2"></i>Select Database
                            </label>
                            <select class="form-control" name="source" id="source" required>
                                <option value="">Select Database</option>
                                <option value="0">Development</option>
                                <option value="1">Testing</option>
                                <option value="2">Production</option>
                            </select>
                        </div>
                        <div class="text-end">
                        <button type="button" class="btn btn-primary" onclick="insert()">
                                <i class="fa-solid fa-right-left me-2"></i>Transfer
                            </button>
                            <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">
                                <i class="fas fa-times me-2"></i>Close
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block scripts %}
<script src="{% static 'js/scripts.js' %}"></script> 
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}